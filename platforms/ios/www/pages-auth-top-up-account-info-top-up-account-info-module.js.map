{"version":3,"sources":["webpack:///./src/app/pages/auth/top-up-account-info/top-up-account-info.module.ts","webpack:///./src/app/pages/auth/top-up-account-info/top-up-account-info.page.html","webpack:///./src/app/pages/auth/top-up-account-info/top-up-account-info.page.scss","webpack:///./src/app/pages/auth/top-up-account-info/top-up-account-info.page.ts"],"names":[],"mappings":"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","file":"pages-auth-top-up-account-info-top-up-account-info-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { TopUpAccountInfoPage } from './top-up-account-info.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TopUpAccountInfoPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [TopUpAccountInfoPage]\n})\nexport class TopUpAccountInfoPageModule {}\n","module.exports = \"<ion-header no-border>\\n    <ion-toolbar>\\n        <ion-buttons slot=\\\"end\\\">\\n            <a class=\\\"Login-Link\\\" slot=\\\"end\\\">Login</a>\\n        </ion-buttons>\\n    </ion-toolbar>\\n  </ion-header>\\n  <ion-content>\\n<ion-content>\\n<div class=\\\"container\\\">\\n    <ion-grid>\\n        <ion-row>\\n            <ion-col>\\n                <div class=\\\"logo\\\"></div>\\n            </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col>\\n              <h3 class=\\\"warningMessage\\\">Credit Card Information</h3>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col size=\\\"12\\\" style=\\\"padding:0;margin: 0\\\">\\n              <span class=\\\"credit-span\\\">Card number</span>\\n              <input type=\\\"number\\\" [(ngModel)]=\\\"Model.CreditCard\\\" class=\\\"creditcard-input\\\"/>            \\n          </ion-col>\\n          <ion-col size=\\\"6\\\" style=\\\"padding:0;margin: 0\\\"  class=\\\"creditcard-datepicker\\\">\\n              <span class=\\\"credit-span\\\">Expire Date</span>\\n              <ion-datetime min=\\\"2019\\\" max=\\\"2030\\\" display-format=\\\"MM , YYYY\\\" picker-format=\\\"MM YYYY\\\" [(ngModel)]=\\\"Model.ExpireDate\\\" style=\\\"padding-left:25px\\\"></ion-datetime>\\n          </ion-col>\\n          <ion-col size=\\\"6\\\" style=\\\"padding:0;margin: 0\\\" class=\\\"creditcard-cvv\\\">\\n              <span class=\\\"credit-span\\\">CVV</span>\\n              <input type=\\\"number\\\" [(ngModel)]=\\\"Model.CVV\\\" />\\n          </ion-col>\\n          <ion-col size=\\\"12\\\">\\n              <span class=\\\"credit-span\\\">Name</span>\\n              <input type=\\\"text\\\" [(ngModel)]=\\\"Model.Name\\\" class=\\\"creditcard-input\\\"/>\\n          </ion-col>\\n        </ion-row>\\n    </ion-grid>\\n    <ion-fab-button class=\\\"next-button\\\" (click)=\\\"doNext()\\\">\\n        <ion-icon name=\\\"arrow-forward\\\"></ion-icon>\\n    </ion-fab-button>\\n</div>\\n</ion-content>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2F1dGgvdG9wLXVwLWFjY291bnQtaW5mby90b3AtdXAtYWNjb3VudC1pbmZvLnBhZ2Uuc2NzcyJ9 */\"","import { DataTransactionService } from './../../..//services/data-transaction/data-transaction.service';\nimport { ConstantService } from './../../../services/constant/constant.service';\nimport { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { LoadingController, Platform } from '@ionic/angular';\nimport { environment } from '../../../../environments/environment.prod';\nimport { ThemeableBrowser, ThemeableBrowserOptions, ThemeableBrowserObject } from '@ionic-native/themeable-browser/ngx';\nimport { RestApiService } from '../../../services/rest-api.service'\nimport { NativeApiService } from 'src/app/services/native-api/native-api.service';\nimport { RouteProviderService } from 'src/app/services/route-provider/route-provider.service';\nimport { AlertProviderService } from 'src/app/services/alert-provider/alert-provider.service';\n\n@Component({\n  selector: 'app-top-up-account-info',\n  templateUrl: './top-up-account-info.page.html',\n  styleUrls: ['./top-up-account-info.page.scss'],\n})\nexport class TopUpAccountInfoPage implements OnInit {\n\n  Model = {\n    Phone: '',\n    CreditCard: '',\n    ExpireDate: '',\n    CVV: '',\n    Name: '',\n  }\n\n\n  AccessToken: string = '';\n  ErrorMessage: string = '';\n  isMethodCalled: boolean = false;\n  isDebug: boolean = false;\n  isScriptExecuted: boolean = false;\n  isStillHold: boolean = false;\n\n  constructor(\n    private router: Router,\n    private dataTransaction: DataTransactionService,\n    private restApi: RestApiService,\n    private api: NativeApiService,\n    private platform: Platform,\n    private themeableBrowser: ThemeableBrowser,\n    private routerProvider: RouteProviderService,\n    private constantService: ConstantService,\n    private alert: AlertProviderService) {\n\n    this.router.routeReuseStrategy.shouldReuseRoute = function () {\n      return false;\n    };\n\n    if (platform.is('cordova')) this.isDebug = false;\n    else this.isDebug = true;\n\n  }\n\n  ngOnInit() {\n\n    this.dataTransaction.getAccessToken().then(acc => {\n      if (acc == null)\n        console.log('access token does not detected');\n      else {\n        this.AccessToken = acc.toString();\n      }\n\n    })\n  }\n\n  doLogin() {\n    this.router.navigate(['auth-phone']);\n  }\n\n  doNext() {\n    if (this.Model.CreditCard != '' && this.Model.ExpireDate != '' && this.Model.Name != '' && this.Model.CVV != '') {\n      this.createOrder();\n    }\n\n  }\n\n\n  //oderType = {CreditCard / All}\n  createOrder() {\n    if (!this.isMethodCalled) {\n      this.isMethodCalled = true;\n      let url = 'https://test.paydollar.com/b2cDemo/eng/dPayment/payComp.jsp';\n      let epYear: string = this.Model.ExpireDate.substring(0, 4);\n      let epMonth: string = this.Model.ExpireDate.replace(`${epYear}-`, '');\n\n      if (!this.isDebug) {\n        this.api.CreateOrder('Subscription', environment.orderAmount, this.AccessToken).then(\n\n          (response) => {\n            if (response.status == 200) {\n              let result = this.api.converResponseToJson(response.data);\n              if (result != null && result.ErrorCode == 0) {\n                let model = this.createModel(result.Data, epMonth, epYear);\n                this.createPaymentForm(model);\n              } else {\n                this.alert.showErrorMessageAlert(`API Error = ${result.ErrorMessage}`)\n              }\n            }\n          }\n        ).catch((error) => {\n          this.alert.showErrorMessageAlert(`System Error ${error}` );\n        })\n      }\n      else {\n        this.restApi.CreateOrder('Subscription', environment.orderAmount, this.AccessToken).subscribe(\n\n          (response) => {\n            console.log(response);\n            let result = this.restApi.converResponseToJson(response);\n            if (result != null && result.ErrorCode == 0) {\n              let model = this.createModel(result.Data, epMonth, epYear);\n              this.createPaymentForm(model);\n            } else {\n              this.ErrorMessage = result.ErrorMessage;\n            }\n          },\n          (error) => {\n\n          }\n        )\n      }\n\n\n    }\n\n  }\n\n  createModel(reponse, epMonth, epYear) {\n    let model = {\n      merchantId: reponse.MerchantId,\n      amount: environment.orderAmount,\n      orderRef: reponse.OrderRef,\n      successUrl: reponse.SuccessUrl,\n      failUrl: reponse.FailUrl,\n      errorUrl: reponse.ErrorUrl,\n      secureHash: reponse.Hash,\n      lang: \"E\",\n      currCode: '458',\n      payType: 'N',\n      remark: 'JOMSAVE_KSJOA01B3YHD7dUS5CXX01HD6X64P0B1QDD',\n      cardNo: this.Model.CreditCard,\n      securityCode: this.Model.CVV,\n      epMonth: epMonth,\n      epYear: epYear,\n      cardHolder: this.Model.Name,\n      pMethod: this.constantService.GetCardType(this.Model.CreditCard)\n    }\n    this.alert.showErrorMessageAlert(JSON.stringify(model));\n    return model;\n  }\n\n  createPaymentForm(model) {\n    //Browser Option\n\n    const options: ThemeableBrowserOptions = {\n      toolbar: {\n        height: 44,\n        color: '#fbb03b'\n      },\n      title: {\n        color: '#ffffffff',\n        showPageTitle: true,\n        staticText: 'JomSave'\n      },\n      backButton: {\n        image: 'back',\n        imagePressed: 'back_pressed',\n        align: 'left',\n        event: 'backPressed'\n      },\n      forwardButton: {\n        image: 'forward',\n        imagePressed: 'forward_pressed',\n        align: 'left',\n        event: 'forwardPressed'\n      },\n      closeButton: {\n        image: 'close',\n        imagePressed: 'close_pressed',\n        align: 'left',\n        event: 'closePressed'\n      },\n      backButtonCanClose: false,\n\n    };\n\n    //Form Script\n    let url = 'https://test.paydollar.com/b2cDemo/eng/dPayment/payComp.jsp';\n    let direction = 'https://member.jomsave.com/Home/TutorialSlides';\n\n    var script = 'var form = document.createElement(\"form\");';\n    script += 'form.method=\"post\";';\n    script += 'form.setAttribute(\"action\",\"' + url + '\");';\n    for (var data in model) {\n      script += 'var ' + data + 'hiddenField = document.createElement(\"input\");';\n      script += data + 'hiddenField.setAttribute(\"type\", \"hidden\");';\n      script += data + 'hiddenField.setAttribute(\"name\",\"' + data + '\");';\n      script += data + 'hiddenField.setAttribute(\"value\",\"' + model[data] + '\");';\n      script += 'form.appendChild(' + data + 'hiddenField);';\n    }\n    script += 'document.body.appendChild(form);';\n    script += 'form.submit();';\n\n    try {\n      const browser: ThemeableBrowserObject = this.themeableBrowser.create(direction, '_blank', options);\n\n      browser.on('closePressed').subscribe(data => {\n        browser.close();\n        this.isMethodCalled = false;\n      })\n\n      browser.on('exit').subscribe(e => {\n        this.isStillHold = true;\n        this.isMethodCalled = false;\n        this.doCallGetProfile();\n      })\n\n\n      browser.on('loadstop').subscribe(data => {\n        if (!this.isScriptExecuted) {\n          browser.executeScript({ code: script }).then(response => {\n            this.isScriptExecuted = true;\n          })\n        }\n\n      })\n\n    }\n    catch (err) {\n      this.alert.showErrorMessageAlert(err)\n    }\n  }\n\n\n  doCallGetProfile() {\n    setTimeout(() => {\n      if (this.isStillHold) {\n        this.doGetProfile()\n      }\n\n    }, 5000);\n\n  }\n\n  async doGetProfile() {\n\n    if (!this.isDebug) {\n      await this.api.GetProfile(this.AccessToken).then(\n        response => {\n          if (response.status == 200) {\n            this.isStillHold = false;\n            let result = this.api.converResponseToJson(response.data);\n            this.dataTransaction.setProfile(result.Data);\n            this.routerProvider.nextStep(result.Data.NextStep);\n          }\n        }\n      ).catch(error => {\n        this.alert.showErrorMessageAlert(error)\n      })\n    } else {\n      await this.restApi.GetProfile(this.AccessToken).subscribe(\n        response => {\n          let result = this.restApi.converResponseToJson(response);\n          if (result != null) {\n            this.isStillHold = false;\n            this.dataTransaction.setProfile(result.Data);\n            this.routerProvider.nextStep(result.Data.NextStep);\n          } else {\n            this.ErrorMessage = result.ErrorMessage;\n          }\n        }\n      )\n    }\n  }\n\n\n\n}\n"],"sourceRoot":""}