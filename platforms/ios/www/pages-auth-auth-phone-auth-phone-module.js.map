{"version":3,"sources":["webpack:///./src/app/pages/auth/auth-phone/auth-phone.module.ts","webpack:///./src/app/pages/auth/auth-phone/auth-phone.page.html","webpack:///./src/app/pages/auth/auth-phone/auth-phone.page.scss","webpack:///./src/app/pages/auth/auth-phone/auth-phone.page.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAyC;AACM;AACF;AACU;AAEV;AAEK;AAElD,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,8DAAa;KACzB;CACF,CAAC;AAWF;IAAA;IAAkC,CAAC;IAAtB,mBAAmB;QAT/B,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,0DAAW;gBACX,0DAAW;gBACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;aAC9B;YACD,YAAY,EAAE,CAAC,8DAAa,CAAC;SAC9B,CAAC;OACW,mBAAmB,CAAG;IAAD,0BAAC;CAAA;AAAH;;;;;;;;;;;;ACzBhC,wsCAAwsC,yX;;;;;;;;;;;ACAxsC,+DAA+D,+J;;;;;;;;;;;;;;;;;;;;;;;ACCyC;AAEtD;AACM;AACwB;AACnB;AACI;AAE6B;AAS9F;IAeE,uBACU,MAAc,EACd,eAAuC,EACvC,GAAqB,EACrB,QAAmB,EACnB,OAAwB,EACxB,WAA+B,EAC/B,KAA4B;QAN5B,WAAM,GAAN,MAAM,CAAQ;QACd,oBAAe,GAAf,eAAe,CAAwB;QACvC,QAAG,GAAH,GAAG,CAAkB;QACrB,aAAQ,GAAR,QAAQ,CAAW;QACnB,YAAO,GAAP,OAAO,CAAiB;QACxB,gBAAW,GAAX,WAAW,CAAoB;QAC/B,UAAK,GAAL,KAAK,CAAuB;QApBtC,UAAK,GAAG;YACN,KAAK,EAAE,EAAE;YACT,QAAQ,EAAE,EAAE;YACZ,QAAQ,EAAE;gBACR,SAAS,EAAE,EAAE;gBACb,YAAY,EAAE,EAAE;aACjB;SAEF;QAED,YAAO,GAAY,KAAK,CAAC;QACzB,iBAAY,GAAG,EAAE,CAAC;QAWhB,IAAG,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC;YAAE,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;;YAC3C,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;IAC3B,CAAC;IAGD,gCAAQ,GAAR;QAAA,iBAIC;QAHC,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,EAAE,CAAC;QAEtB,IAAI,CAAC,eAAe,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,kBAAQ,IAAI,IAAI,QAAQ,IAAI,IAAI;YAAE,KAAI,CAAC,eAAe,CAAC,YAAY,CAAC,aAAa,CAAC,GAAC,CAAC,CAAC;IAChI,CAAC;IAED,+BAAO,GAAP;QACE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;IAC1C,CAAC;IAED,kCAAU,GAAV;QAAA,iBAQC;QAPC,IAAI,CAAC,eAAe,CAAC,YAAY,EAAE,CAAC,IAAI,CACtC,kBAAQ;YACN,IAAG,QAAQ,IAAI,IAAI,IAAI,QAAQ,IAAI,EAAE,IAAI,QAAQ,IAAI,aAAa,EAAC;gBACjE,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;aAClC;QACH,CAAC,CACF;IACH,CAAC;IAEK,8BAAM,GAAZ;;;;;;4BACe,qBAAM,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;4BAC1C,OAAO,EAAC,MAAM;4BACd,QAAQ,EAAC,IAAI;4BACb,OAAO,EAAC,iBAAiB;yBACzB,CAAC;;wBAJI,IAAI,GAAG,SAIX;wBAEF,qBAAM,IAAI,CAAC,OAAO,EAAE;;wBAApB,SAAoB,CAAC;wBAEpB,IAAG,CAAC,IAAI,CAAC,OAAO,EAAC;4BAChB,IAAI,CAAC,GAAG,CAAC,iBAAiB,CAAC,OAAK,IAAI,CAAC,KAAK,CAAC,KAAO,CAAC;iCAClD,IAAI,CAAC,kBAAQ;gCACZ,IAAI,CAAC,OAAO,EAAE,CAAC;gCAChB,IAAG,QAAQ,CAAC,MAAM,IAAI,GAAG,EAAC;oCACxB,IAAI,MAAM,GAAG,KAAI,CAAC,GAAG,CAAC,oBAAoB,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;oCAC1D,IAAG,MAAM,CAAC,IAAI,CAAC,YAAY,IAAG,GAAG,EACjC;wCACC,KAAI,CAAC,eAAe,CAAC,YAAY,CAAC,KAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;wCACnD,KAAI,CAAC,UAAU,EAAE,CAAC;qCACnB;yCAED;wCACC,KAAI,CAAC,eAAe,CAAC,YAAY,CAAC,KAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;wCACnD,KAAI,CAAC,OAAO,EAAE,CAAC;qCAChB;iCACF;qCAAI;oCACH,KAAI,CAAC,KAAK,CAAC,qBAAqB,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;iCAClD;4BACF,CAAC,CAAC;iCACD,KAAK,CAAC,eAAK;gCACV,KAAI,CAAC,KAAK,CAAC,qBAAqB,CAAC,KAAK,CAAC,CAAC;4BAC1C,CAAC,CAAC;yBACF;6BAAI;4BACJ,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,OAAK,IAAI,CAAC,KAAK,CAAC,KAAO,CAAC;iCACtD,SAAS,CAAC,kBAAQ;gCACjB,IAAI,CAAC,OAAO,EAAE,CAAC;gCACf,IAAI,MAAM,GAAG,KAAI,CAAC,OAAO,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAC;gCACzD,IAAG,MAAM,CAAC,IAAI,CAAC,YAAY,IAAI,GAAG,EAAC;oCACjC,KAAI,CAAC,eAAe,CAAC,YAAY,CAAC,KAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;oCACpD,KAAI,CAAC,UAAU,EAAE,CAAC;iCAEnB;qCAAI;oCACH,KAAI,CAAC,eAAe,CAAC,YAAY,CAAC,KAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;oCACpD,KAAI,CAAC,OAAO,EAAE,CAAC;iCAChB;4BACH,CAAC,CAAC;yBACF;;;;;KAEH;IAED,wCAAgB,GAAhB;IAEA,CAAC;IArGU,aAAa;QARzB,+DAAS,CAAC;YACT,QAAQ,EAAE,gBAAgB;YAC1B,mHAAqC;YAErC,SAAS,EAAC;gBACR,wFAAgB;aACjB;;SACF,CAAC;+EAiBkB,sDAAM;YACG,0GAAsB;YAClC,wFAAgB;YACV,uDAAQ;YACT,yEAAc;YACV,gEAAiB;YACvB,2GAAoB;OAtB3B,aAAa,CAsGzB;IAAD,oBAAC;CAAA;AAtGyB","file":"pages-auth-auth-phone-auth-phone-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AuthPhonePage } from './auth-phone.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AuthPhonePage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [AuthPhonePage]\n})\nexport class AuthPhonePageModule {}\n","module.exports = \"<ion-header no-border>\\n    <ion-toolbar>\\n        <ion-buttons>\\n        </ion-buttons>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"no-scroll\\\">\\n    <div class=\\\"container\\\">\\n        <ion-grid>\\n            <ion-row>\\n                <ion-col>\\n                    <div class=\\\"logo\\\"></div>\\n                </ion-col>\\n            </ion-row>\\n            <ion-row>\\n                <ion-col size=\\\"1\\\"></ion-col>\\n                <ion-col size=\\\"10\\\">\\n                    <div class=\\\"input-container\\\">\\n                        <img src=\\\"../../assets/images/icon-smart-phone.svg\\\" class=\\\"input--icon\\\"/>\\n                        <span class=\\\"input-content\\\">+60</span>\\n                        <input type=\\\"number\\\" class=\\\"input-icon\\\" [(ngModel)]=\\\"Model.Phone\\\" />                       \\n                        <br />\\n                        <span class=\\\"input-message\\\">Please key in your mobile number </span>\\n                    </div>\\n                </ion-col>\\n                <ion-col size=\\\"1\\\"></ion-col>\\n            </ion-row>\\n            <ion-row *ngIf=\\\"ErrorMessage\\\" >\\n                <ion-col>\\n                        <ion-textarea style=\\\"width: 100%;word-wrap: break-word\\\" [rows]=10 [(ngModel)]=\\\"ErrorMessage\\\"></ion-textarea>\\n                </ion-col>\\n            </ion-row>\\n        </ion-grid>\\n\\n        <ion-fab-button class=\\\"next-button\\\" (click)=\\\"doNext()\\\" [disabled]=\\\"Model.Phone == ''\\\">\\n            <ion-icon name=\\\"arrow-forward\\\"></ion-icon>\\n        </ion-fab-button>        \\n    </div>\\n</ion-content>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2F1dGgvYXV0aC1waG9uZS9hdXRoLXBob25lLnBhZ2Uuc2NzcyJ9 */\"","\nimport { DataTransactionService } from './../../..//services/data-transaction/data-transaction.service';\nimport { ConstantService } from './../../../services/constant/constant.service';\nimport { Component, OnInit } from '@angular/core';\nimport { Router, NavigationEnd } from '@angular/router';\nimport {NativeApiService} from '../../../services/native-api/native-api.service'\nimport { Platform, LoadingController } from '@ionic/angular';\nimport {RestApiService} from '../../../services/rest-api.service'\nimport { TouchSequence } from 'selenium-webdriver';\nimport { AlertProviderService } from 'src/app/services/alert-provider/alert-provider.service';\n@Component({\n  selector: 'app-auth-phone',\n  templateUrl: './auth-phone.page.html',\n  styleUrls: ['./auth-phone.page.scss'],\n  providers:[\n    NativeApiService\n  ]\n})\nexport class AuthPhonePage implements OnInit {\n\n  Model = {\n    Phone: '',\n    Password: '',\n    Resouses: {\n      PhoneIcon: '',\n      WorldPicture: '',\n    }\n\n  }\n\n  isDebug :boolean = false;\n  ErrorMessage = '';\n\n  constructor(\n    private router: Router,\n    private dataTransaction: DataTransactionService,\n    private api: NativeApiService,\n    private platform : Platform,\n    private restApi : RestApiService,\n    private loadingCtrl : LoadingController,\n    private alert : AlertProviderService\n  ) {\n    if(platform.is('cordova')) this.isDebug = false;\n    else this.isDebug = true;\n  }\n\n\n  ngOnInit() {\n    this.Model.Phone = \"\";\n\n    this.dataTransaction.getUserPhone().then(response=>{ if (response == null) this.dataTransaction.setUserPhone('11111111111')});\n  }\n\n  doLogin() {\n    this.router.navigate(['auth-password']);\n  }\n\n  doRegister() {\n    this.dataTransaction.getUserPhone().then(\n      response =>{\n        if(response != null && response != '' && response != '11111111111'){\n          this.router.navigate(['signup']);\n        }\n      }\n    )    \n  }\n\n  async doNext() {\n    const load = await this.loadingCtrl.create({\n     spinner:'dots',\n     duration:5000,\n     message:'Please Wait ...',\n    });\n\n    await load.present();\n\n     if(!this.isDebug){\n      this.api.IsMobileRgistered(`60${this.Model.Phone}`)\n      .then(response=>{\n        load.dismiss();\n       if(response.status == 200){\n         let result = this.api.converResponseToJson(response.data);\n         if(result.Data.IsRegistered ==\"0\") \n         {\n          this.dataTransaction.setUserPhone(this.Model.Phone);\n           this.doRegister();           \n         }\n         else \n         {\n          this.dataTransaction.setUserPhone(this.Model.Phone);\n           this.doLogin();           \n         }\n       }else{\n         this.alert.showErrorMessageAlert(response.error);\n       }\n      })\n      .catch(error=>{\n        this.alert.showErrorMessageAlert(error);\n      })\n     }else{\n      this.restApi.IsMobileRgistered(`60${this.Model.Phone}`) \n      .subscribe(response=>{\n        load.dismiss();\n        let result = this.restApi.converResponseToJson(response);\n        if(result.Data.IsRegistered == \"0\"){\n          this.dataTransaction.setUserPhone(this.Model.Phone);\n          this.doRegister();\n          \n        }else{\n          this.dataTransaction.setUserPhone(this.Model.Phone);\n          this.doLogin();          \n        }\n      })\n     }\n\n  }\n\n  doForgotPassword() {\n\n  }\n}\n"],"sourceRoot":""}