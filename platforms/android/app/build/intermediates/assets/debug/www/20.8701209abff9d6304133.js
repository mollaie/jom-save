(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"56ai":function(l,n,e){"use strict";e.d(n,"a",function(){return o});var t=e("CcnG"),u=e("ZYCi"),o=function(){function l(l){this.router=l}return l.prototype.nextStep=function(l){switch(l){case"AddReferral":this.router.navigate(["referral"]);break;case"MakePayment":this.router.navigate(["top-up"]);break;case"CreatePassword":this.router.navigate(["change-password"]);break;case"VerifyEmail":this.router.navigate(["mail-confirmation"]);break;case"CompleteProfile":this.router.navigate(["complete-profile"]);break;case"VerifyProfile":this.router.navigate(["profile/profile/home"]);break;case"Password":this.router.navigate(["auth-password"]);break;case"Upline":break;default:this.router.navigate(["profile/profile/home"])}},l.ngInjectableDef=t.S({factory:function(){return new l(t.W(u.n))},token:l,providedIn:"root"}),l}()},EMNk:function(l,n,e){"use strict";e.r(n);var t=e("CcnG"),u=e("mrSG"),o=e("e0iR"),r=e("BoD5"),i=e("ZZ/e"),a=e("cxbk"),s=e("HBAR"),c=e("n6ga"),d=e("603S"),b=e("56ai"),p=e("utPD"),h=function(){function l(l,n,e,t,u,o,r,i,a){this.router=l,this.dataTransaction=n,this.restApi=e,this.api=t,this.platform=u,this.themeableBrowser=o,this.routerProvider=r,this.constantService=i,this.alert=a,this.Model={Phone:"",CreditCard:"",ExpireDate:"",CVV:"",Name:""},this.AccessToken="",this.ErrorMessage="",this.isMethodCalled=!1,this.isDebug=!1,this.isScriptExecuted=!1,this.isStillHold=!1,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.isDebug=!u.is("cordova")}return l.prototype.ngOnInit=function(){var l=this;this.dataTransaction.getAccessToken().then(function(n){null==n?console.log("access token does not detected"):l.AccessToken=n.toString()})},l.prototype.doLogin=function(){this.router.navigate(["auth-phone"])},l.prototype.doNext=function(){""!=this.Model.CreditCard&&""!=this.Model.ExpireDate&&""!=this.Model.Name&&""!=this.Model.CVV&&this.createOrder()},l.prototype.createOrder=function(){var l=this;if(!this.isMethodCalled){this.isMethodCalled=!0;var n=this.Model.ExpireDate.substring(0,4),e=this.Model.ExpireDate.replace(n+"-","");this.isDebug?this.restApi.CreateOrder("Subscription",a.a.orderAmount,this.AccessToken).subscribe(function(t){console.log(t);var u=l.restApi.converResponseToJson(t);if(null!=u&&0==u.ErrorCode){var o=l.createModel(u.Data,e,n);l.createPaymentForm(o)}else l.ErrorMessage=u.ErrorMessage},function(l){}):this.api.CreateOrder("Subscription",a.a.orderAmount,this.AccessToken).then(function(t){if(200==t.status){var u=l.api.converResponseToJson(t.data);if(null!=u&&0==u.ErrorCode){var o=l.createModel(u.Data,e,n);l.createPaymentForm(o)}else l.alert.showErrorMessageAlert("API Error = "+u.ErrorMessage)}}).catch(function(n){l.alert.showErrorMessageAlert("System Error "+n)})}},l.prototype.createModel=function(l,n,e){return{merchantId:l.MerchantId,amount:a.a.orderAmount,orderRef:l.OrderRef,successUrl:l.SuccessUrl,failUrl:l.FailUrl,errorUrl:l.ErrorUrl,secureHash:l.Hash,lang:"E",currCode:"458",payType:"N",remark:"JOMSAVE_KSJOA01B3YHD7dUS5CXX01HD6X64P0B1QDD",cardNo:this.Model.CreditCard,securityCode:this.Model.CVV,epMonth:n,epYear:e,cardHolder:this.Model.Name,pMethod:this.constantService.GetCardType(this.Model.CreditCard)}},l.prototype.createPaymentForm=function(l){var n=this,e='var form = document.createElement("form");';for(var t in e+='form.method="post";',e+='form.setAttribute("action","https://test.paydollar.com/b2cDemo/eng/dPayment/payComp.jsp");',l)e+="var "+t+'hiddenField = document.createElement("input");',e+=t+'hiddenField.setAttribute("type", "hidden");',e+=t+'hiddenField.setAttribute("name","'+t+'");',e+=t+'hiddenField.setAttribute("value","'+l[t]+'");',e+="form.appendChild("+t+"hiddenField);";e+="document.body.appendChild(form);",e+="form.submit();";try{var u=this.themeableBrowser.create("https://member.jomsave.com/Home/TutorialSlides","_blank",{toolbar:{height:44,color:"#fbb03b"},title:{color:"#ffffffff",showPageTitle:!0,staticText:"JomSave"},backButton:{image:"back",imagePressed:"back_pressed",align:"left",event:"backPressed"},forwardButton:{image:"forward",imagePressed:"forward_pressed",align:"left",event:"forwardPressed"},closeButton:{image:"close",imagePressed:"close_pressed",align:"left",event:"closePressed"},backButtonCanClose:!1});u.on("closePressed").subscribe(function(l){u.close(),n.isMethodCalled=!1}),u.on("exit").subscribe(function(l){n.isStillHold=!0,n.isMethodCalled=!1,n.doCallGetProfile()}),u.on("loadstop").subscribe(function(l){n.isScriptExecuted||u.executeScript({code:e}).then(function(l){n.isScriptExecuted=!0})})}catch(o){this.alert.showErrorMessageAlert(o)}},l.prototype.doCallGetProfile=function(){var l=this;setTimeout(function(){l.isStillHold&&l.doGetProfile()},5e3)},l.prototype.doGetProfile=function(){return u.b(this,void 0,void 0,function(){var l=this;return u.e(this,function(n){switch(n.label){case 0:return this.isDebug?[3,2]:[4,this.api.GetProfile(this.AccessToken).then(function(n){if(200==n.status){l.isStillHold=!1;var e=l.api.converResponseToJson(n.data);l.dataTransaction.setProfile(e.Data),l.routerProvider.nextStep(e.Data.NextStep)}}).catch(function(n){l.alert.showErrorMessageAlert(n)})];case 1:return n.sent(),[3,4];case 2:return[4,this.restApi.GetProfile(this.AccessToken).subscribe(function(n){var e=l.restApi.converResponseToJson(n);null!=e?(l.isStillHold=!1,l.dataTransaction.setProfile(e.Data),l.routerProvider.nextStep(e.Data.NextStep)):l.ErrorMessage=e.ErrorMessage})];case 3:n.sent(),n.label=4;case 4:return[2]}})})},l}(),g=function(){return function(){}}(),f=e("pMnS"),m=e("oBZk"),C=e("gIcY"),v=e("ZYCi"),M=t.nb({encapsulation:0,styles:[[""]],data:{}});function k(l){return t.Hb(0,[(l()(),t.pb(0,0,null,null,7,"ion-header",[["no-border",""]],null,null,null,m.J,m.k)),t.ob(1,49152,null,0,i.C,[t.h,t.k],null,null),(l()(),t.pb(2,0,null,0,5,"ion-toolbar",[],null,null,null,m.X,m.y)),t.ob(3,49152,null,0,i.Cb,[t.h,t.k],null,null),(l()(),t.pb(4,0,null,0,3,"ion-buttons",[["slot","end"]],null,null,null,m.C,m.d)),t.ob(5,49152,null,0,i.m,[t.h,t.k],null,null),(l()(),t.pb(6,0,null,0,1,"a",[["class","Login-Link"],["slot","end"]],null,null,null,null,null)),(l()(),t.Fb(-1,null,["Login"])),(l()(),t.pb(8,0,null,null,66,"ion-content",[],null,null,null,m.F,m.g)),t.ob(9,49152,null,0,i.v,[t.h,t.k],null,null),(l()(),t.pb(10,0,null,0,64,"ion-content",[],null,null,null,m.F,m.g)),t.ob(11,49152,null,0,i.v,[t.h,t.k],null,null),(l()(),t.pb(12,0,null,0,62,"div",[["class","container"]],null,null,null,null,null)),(l()(),t.pb(13,0,null,null,57,"ion-grid",[],null,null,null,m.I,m.j)),t.ob(14,49152,null,0,i.B,[t.h,t.k],null,null),(l()(),t.pb(15,0,null,0,4,"ion-row",[],null,null,null,m.P,m.q)),t.ob(16,49152,null,0,i.jb,[t.h,t.k],null,null),(l()(),t.pb(17,0,null,0,2,"ion-col",[],null,null,null,m.E,m.f)),t.ob(18,49152,null,0,i.u,[t.h,t.k],null,null),(l()(),t.pb(19,0,null,0,0,"div",[["class","logo"]],null,null,null,null,null)),(l()(),t.pb(20,0,null,0,5,"ion-row",[],null,null,null,m.P,m.q)),t.ob(21,49152,null,0,i.jb,[t.h,t.k],null,null),(l()(),t.pb(22,0,null,0,3,"ion-col",[],null,null,null,m.E,m.f)),t.ob(23,49152,null,0,i.u,[t.h,t.k],null,null),(l()(),t.pb(24,0,null,0,1,"h3",[["class","warningMessage"]],null,null,null,null,null)),(l()(),t.Fb(-1,null,["Credit Card Information"])),(l()(),t.pb(26,0,null,0,44,"ion-row",[],null,null,null,m.P,m.q)),t.ob(27,49152,null,0,i.jb,[t.h,t.k],null,null),(l()(),t.pb(28,0,null,0,10,"ion-col",[["size","12"],["style","padding:0;margin: 0"]],null,null,null,m.E,m.f)),t.ob(29,49152,null,0,i.u,[t.h,t.k],{size:[0,"size"]},null),(l()(),t.pb(30,0,null,0,1,"span",[["class","credit-span"]],null,null,null,null,null)),(l()(),t.Fb(-1,null,["Card number"])),(l()(),t.pb(32,0,null,0,6,"input",[["class","creditcard-input"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var u=!0,o=l.component;return"input"===n&&(u=!1!==t.zb(l,33)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t.zb(l,33).onTouched()&&u),"compositionstart"===n&&(u=!1!==t.zb(l,33)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t.zb(l,33)._compositionEnd(e.target.value)&&u),"change"===n&&(u=!1!==t.zb(l,34).onChange(e.target.value)&&u),"input"===n&&(u=!1!==t.zb(l,34).onChange(e.target.value)&&u),"blur"===n&&(u=!1!==t.zb(l,34).onTouched()&&u),"ngModelChange"===n&&(u=!1!==(o.Model.CreditCard=e)&&u),u},null,null)),t.ob(33,16384,null,0,C.b,[t.D,t.k,[2,C.a]],null,null),t.ob(34,16384,null,0,C.l,[t.D,t.k],null,null),t.Cb(1024,null,C.f,function(l,n){return[l,n]},[C.b,C.l]),t.ob(36,671744,null,0,C.i,[[8,null],[8,null],[8,null],[6,C.f]],{model:[0,"model"]},{update:"ngModelChange"}),t.Cb(2048,null,C.g,null,[C.i]),t.ob(38,16384,null,0,C.h,[[4,C.g]],null,null),(l()(),t.pb(39,0,null,0,10,"ion-col",[["class","creditcard-datepicker"],["size","6"],["style","padding:0;margin: 0"]],null,null,null,m.E,m.f)),t.ob(40,49152,null,0,i.u,[t.h,t.k],{size:[0,"size"]},null),(l()(),t.pb(41,0,null,0,1,"span",[["class","credit-span"]],null,null,null,null,null)),(l()(),t.Fb(-1,null,["Expire Date"])),(l()(),t.pb(43,0,null,0,6,"ion-datetime",[["display-format","MM , YYYY"],["max","2030"],["min","2019"],["picker-format","MM YYYY"],["style","padding-left:25px"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(l,n,e){var u=!0,o=l.component;return"ionBlur"===n&&(u=!1!==t.zb(l,44)._handleBlurEvent()&&u),"ionChange"===n&&(u=!1!==t.zb(l,44)._handleChangeEvent(e.target.value)&&u),"ngModelChange"===n&&(u=!1!==(o.Model.ExpireDate=e)&&u),u},m.G,m.h)),t.ob(44,16384,null,0,i.Mb,[t.k],null,null),t.Cb(1024,null,C.f,function(l){return[l]},[i.Mb]),t.ob(46,671744,null,0,C.i,[[8,null],[8,null],[8,null],[6,C.f]],{model:[0,"model"]},{update:"ngModelChange"}),t.Cb(2048,null,C.g,null,[C.i]),t.ob(48,16384,null,0,C.h,[[4,C.g]],null,null),t.ob(49,49152,null,0,i.w,[t.h,t.k],{min:[0,"min"],max:[1,"max"]},null),(l()(),t.pb(50,0,null,0,10,"ion-col",[["class","creditcard-cvv"],["size","6"],["style","padding:0;margin: 0"]],null,null,null,m.E,m.f)),t.ob(51,49152,null,0,i.u,[t.h,t.k],{size:[0,"size"]},null),(l()(),t.pb(52,0,null,0,1,"span",[["class","credit-span"]],null,null,null,null,null)),(l()(),t.Fb(-1,null,["CVV"])),(l()(),t.pb(54,0,null,0,6,"input",[["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var u=!0,o=l.component;return"input"===n&&(u=!1!==t.zb(l,55)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t.zb(l,55).onTouched()&&u),"compositionstart"===n&&(u=!1!==t.zb(l,55)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t.zb(l,55)._compositionEnd(e.target.value)&&u),"change"===n&&(u=!1!==t.zb(l,56).onChange(e.target.value)&&u),"input"===n&&(u=!1!==t.zb(l,56).onChange(e.target.value)&&u),"blur"===n&&(u=!1!==t.zb(l,56).onTouched()&&u),"ngModelChange"===n&&(u=!1!==(o.Model.CVV=e)&&u),u},null,null)),t.ob(55,16384,null,0,C.b,[t.D,t.k,[2,C.a]],null,null),t.ob(56,16384,null,0,C.l,[t.D,t.k],null,null),t.Cb(1024,null,C.f,function(l,n){return[l,n]},[C.b,C.l]),t.ob(58,671744,null,0,C.i,[[8,null],[8,null],[8,null],[6,C.f]],{model:[0,"model"]},{update:"ngModelChange"}),t.Cb(2048,null,C.g,null,[C.i]),t.ob(60,16384,null,0,C.h,[[4,C.g]],null,null),(l()(),t.pb(61,0,null,0,9,"ion-col",[["size","12"]],null,null,null,m.E,m.f)),t.ob(62,49152,null,0,i.u,[t.h,t.k],{size:[0,"size"]},null),(l()(),t.pb(63,0,null,0,1,"span",[["class","credit-span"]],null,null,null,null,null)),(l()(),t.Fb(-1,null,["Name"])),(l()(),t.pb(65,0,null,0,5,"input",[["class","creditcard-input"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0,o=l.component;return"input"===n&&(u=!1!==t.zb(l,66)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t.zb(l,66).onTouched()&&u),"compositionstart"===n&&(u=!1!==t.zb(l,66)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t.zb(l,66)._compositionEnd(e.target.value)&&u),"ngModelChange"===n&&(u=!1!==(o.Model.Name=e)&&u),u},null,null)),t.ob(66,16384,null,0,C.b,[t.D,t.k,[2,C.a]],null,null),t.Cb(1024,null,C.f,function(l){return[l]},[C.b]),t.ob(68,671744,null,0,C.i,[[8,null],[8,null],[8,null],[6,C.f]],{model:[0,"model"]},{update:"ngModelChange"}),t.Cb(2048,null,C.g,null,[C.i]),t.ob(70,16384,null,0,C.h,[[4,C.g]],null,null),(l()(),t.pb(71,0,null,null,3,"ion-fab-button",[["class","next-button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.doNext()&&t),t},m.H,m.i)),t.ob(72,49152,null,0,i.y,[t.h,t.k],null,null),(l()(),t.pb(73,0,null,0,1,"ion-icon",[["name","arrow-forward"]],null,null,null,m.K,m.l)),t.ob(74,49152,null,0,i.D,[t.h,t.k],{name:[0,"name"]},null)],function(l,n){var e=n.component;l(n,29,0,"12"),l(n,36,0,e.Model.CreditCard),l(n,40,0,"6"),l(n,46,0,e.Model.ExpireDate),l(n,49,0,"2019","2030"),l(n,51,0,"6"),l(n,58,0,e.Model.CVV),l(n,62,0,"12"),l(n,68,0,e.Model.Name),l(n,74,0,"arrow-forward")},function(l,n){l(n,32,0,t.zb(n,38).ngClassUntouched,t.zb(n,38).ngClassTouched,t.zb(n,38).ngClassPristine,t.zb(n,38).ngClassDirty,t.zb(n,38).ngClassValid,t.zb(n,38).ngClassInvalid,t.zb(n,38).ngClassPending),l(n,43,0,t.zb(n,48).ngClassUntouched,t.zb(n,48).ngClassTouched,t.zb(n,48).ngClassPristine,t.zb(n,48).ngClassDirty,t.zb(n,48).ngClassValid,t.zb(n,48).ngClassInvalid,t.zb(n,48).ngClassPending),l(n,54,0,t.zb(n,60).ngClassUntouched,t.zb(n,60).ngClassTouched,t.zb(n,60).ngClassPristine,t.zb(n,60).ngClassDirty,t.zb(n,60).ngClassValid,t.zb(n,60).ngClassInvalid,t.zb(n,60).ngClassPending),l(n,65,0,t.zb(n,70).ngClassUntouched,t.zb(n,70).ngClassTouched,t.zb(n,70).ngClassPristine,t.zb(n,70).ngClassDirty,t.zb(n,70).ngClassValid,t.zb(n,70).ngClassInvalid,t.zb(n,70).ngClassPending)})}function z(l){return t.Hb(0,[(l()(),t.pb(0,0,null,null,1,"app-top-up-account-info",[],null,null,null,k,M)),t.ob(1,114688,null,0,h,[v.n,o.a,c.a,d.a,i.Jb,s.a,b.a,r.a,p.a],null,null)],function(l,n){l(n,1,0)},null)}var y=t.lb("app-top-up-account-info",h,z,{},{},[]),E=e("Ip0R");e.d(n,"TopUpAccountInfoPageModuleNgFactory",function(){return P});var P=t.mb(g,[],function(l){return t.wb([t.xb(512,t.j,t.bb,[[8,[f.a,y]],[3,t.j],t.x]),t.xb(4608,E.l,E.k,[t.u,[2,E.s]]),t.xb(4608,C.m,C.m,[]),t.xb(4608,i.c,i.c,[t.z,t.g]),t.xb(4608,i.Hb,i.Hb,[i.c,t.j,t.q]),t.xb(4608,i.Kb,i.Kb,[i.c,t.j,t.q]),t.xb(1073742336,E.b,E.b,[]),t.xb(1073742336,C.k,C.k,[]),t.xb(1073742336,C.c,C.c,[]),t.xb(1073742336,i.Eb,i.Eb,[]),t.xb(1073742336,v.o,v.o,[[2,v.u],[2,v.n]]),t.xb(1073742336,g,g,[]),t.xb(1024,v.l,function(){return[[{path:"",component:h}]]},[])])})},utPD:function(l,n,e){"use strict";e.d(n,"a",function(){return r});var t=e("mrSG"),u=e("ZZ/e"),o=e("CcnG"),r=function(){function l(l,n){this.alertController=l,this.loadingCntroller=n}return l.prototype.showErrorMessageAlert=function(l){return t.b(this,void 0,void 0,function(){return t.e(this,function(n){switch(n.label){case 0:return[4,this.alertController.create({header:"Jom-Save",message:l,buttons:["OK"]})];case 1:return[4,n.sent().present()];case 2:return n.sent(),[2]}})})},l.ngInjectableDef=o.S({factory:function(){return new l(o.W(u.b),o.W(u.Gb))},token:l,providedIn:"root"}),l}()}}]);