{"version":3,"sources":["webpack:///./src/app/pages/auth/top-up-viewer/top-up-viewer.module.ts","webpack:///./src/app/pages/auth/top-up-viewer/top-up-viewer.page.html","webpack:///./src/app/pages/auth/top-up-viewer/top-up-viewer.page.scss","webpack:///./src/app/pages/auth/top-up-viewer/top-up-viewer.page.ts"],"names":[],"mappings":"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","file":"pages-auth-top-up-viewer-top-up-viewer-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { TopUpViewerPage } from './top-up-viewer.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TopUpViewerPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [TopUpViewerPage]\n})\nexport class TopUpViewerPageModule {}\n","module.exports = \"<ion-header no-border>\\n  <ion-toolbar>\\n    <ion-buttons>\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n</ion-content>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2F1dGgvdG9wLXVwLXZpZXdlci90b3AtdXAtdmlld2VyLnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { ThemeableBrowser, ThemeableBrowserOptions, ThemeableBrowserObject } from '@ionic-native/themeable-browser/ngx';\nimport { RestApiService } from '../../../services/rest-api.service'\nimport { environment } from '../../../../environments/environment.prod';\nimport { DataTransactionService } from './../../..//services/data-transaction/data-transaction.service';\nimport { Router, NavigationEnd } from '@angular/router';\nimport { LoadingController, Platform } from '@ionic/angular'\nimport { NativeApiService } from 'src/app/services/native-api/native-api.service';\n\n@Component({\n  selector: 'app-top-up-viewer',\n  templateUrl: './top-up-viewer.page.html',\n  styleUrls: ['./top-up-viewer.page.scss'],\n})\nexport class TopUpViewerPage implements OnInit {\n\n  AccessToken:string = '';\n  ErrorMessage: string ='';\n  orderType: string ='';\n  cardNo: string ='';\n  securityCode: string ='';\n  epMonth: string ='';\n  epYear: string ='';\n  cardHolder: string ='';\n  isMethodCalled : boolean = false;\n  isDebug : boolean = false;\n  isScriptExecuted :boolean = false;\n\n  constructor(private themeableBrowser: ThemeableBrowser,\n    private restApi: RestApiService,\n    private api : NativeApiService,\n    private router: Router,\n    private dataTransaction: DataTransactionService,\n    private platform : Platform\n  ) {\n\n    this.router.routeReuseStrategy.shouldReuseRoute = function () {\n      return false;\n    };\n\n    router.events.subscribe(event => {\n      if (event instanceof NavigationEnd) this.ngOnInit();\n    })\n    this.orderType = router.getCurrentNavigation().extras.state.orderType;\n    this.securityCode = router.getCurrentNavigation().extras.state.securityCode;\n    this.cardNo = router.getCurrentNavigation().extras.state.cardNo;\n    this.cardHolder = router.getCurrentNavigation().extras.state.cardHolder;\n    this.epYear = router.getCurrentNavigation().extras.state.expireDate.substring(0, 4);\n    this.epMonth = router.getCurrentNavigation().extras.state.expireDate.replace(`${this.epYear}-`, '');\n\n    if(platform.is('cordova')) this.isDebug = false;\n    else this.isDebug = true;\n  }\n\n\n  ngOnInit() {\n    this.dataTransaction.getAccessToken().then(acc => {\n      if(acc == null)\n        console.log('access token does not detected');\n      else{\n        this.AccessToken = acc.toString();\n        this.createOrder();\n      }\n      \n    })\n  }\n\n  //oderType = {CreditCard / All}\n  createOrder() {\n    if(!this.isMethodCalled){\n      this.isMethodCalled = true;\n      let url='https://test.paydollar.com/b2cDemo/eng/dPayment/payComp.jsp';\n\n      if(!this.isDebug){\n        this.api.CreateOrder(this.orderType, environment.orderAmount, this.AccessToken).then(\n       \n          (response) => {\n            console.log(response);\n            let result = this.api.converResponseToJson(response.data);\n            if (result != null && result.ErrorCode == 0) {\n              const model = {\n                merchantId: result.Data.MerchantId,\n                amount: environment.orderAmount,\n                orderRef: result.Data.OrderRef,\n                successUrl: result.Data.SuccessUrl,\n                failUrl: result.Data.FailUrl,\n                errorUrl: result.Data.ErrorUrl,\n                secureHash: result.Data.Hash,\n                lang: \"E\",\n                currCode: '458',\n                payType: 'N',\n                remark: 'JOMSAVE_KSJOA01B3YHD7dUS5CXX01HD6X64P0B1QDD',\n                cardNo: this.cardNo ,\n                securityCode: this.securityCode,\n                epMonth: this.epMonth,\n                epYear: this.epYear,\n                cardHolder: this.cardHolder,\n                pMethod : 'VISA'\n              }\n              this.createPaymentForm(model);\n            } else {\n              this.ErrorMessage = result.ErrorMessage;\n            }\n          },\n          (error) => {\n    \n          }\n        )\n      }\n      else{\n        this.restApi.CreateOrder(this.orderType, environment.orderAmount, this.AccessToken).subscribe(\n       \n          (response) => {\n            console.log(response);\n            let result = this.api.converResponseToJson(response);\n            if (result != null && result.ErrorCode == 0) {\n              const model = {\n                MerchantId: result.Data.MerchantId,\n                amount: environment.orderAmount,\n                orderRef: result.Data.OrderRef,\n                successUrl: result.Data.SuccessUrl,\n                failUrl: result.Data.FailUrl,\n                errorUrl: result.Data.ErrorUrl,\n                Hash: result.Data.Hash,\n                Lang: \"E\",\n                paymentType: \"N\",\n                currCode: '',\n                payType: '',\n                remark: '',\n                cardNo: this.cardNo ,\n                securityCode: this.securityCode,\n                epMonth: this.epMonth,\n                epYear: this.epYear,\n                cardHolder: this.cardHolder,\n                pMethod : this.orderType\n              }\n              this.createPaymentForm(model);\n            } else {\n              this.ErrorMessage = result.ErrorMessage;\n            }\n          },\n          (error) => {\n    \n          }\n        )\n      }\n\n\n    }\n  \n  }\n\n  createPaymentForm(model){\n    //Browser Option\n\n    const options: ThemeableBrowserOptions = {\n      toolbar: {\n        height: 44,\n        color: '#fbb03b'\n      },\n      title: {\n        color: '#ffffffff',\n        showPageTitle: true,\n        staticText: 'JomSave'\n      },\n      backButton: {\n        image: 'back',\n        imagePressed:'back_pressed',\n        align: 'left',\n        event: 'backPressed'\n      },\n      forwardButton: {\n        image: 'forward',\n        imagePressed:'forward_pressed',\n        align: 'left',\n        event: 'forwardPressed'\n      },\n      closeButton: {\n        image: 'close',\n        imagePressed:'close_pressed',\n        align: 'left',\n        event: 'closePressed'\n      },\n      backButtonCanClose: false,\n\n    };\n\n    //Form Script\n    let url='https://test.paydollar.com/b2cDemo/eng/dPayment/payComp.jsp';\n    let direction = 'https://member.jomsave.com/Home/TutorialSlides';\n\n  var script = 'var form = document.createElement(\"form\");';      \n      script += 'form.method=\"post\";';\n      script += 'form.setAttribute(\"action\",\"'+url+'\");';\n for (var data in model) {\n      script += 'var '+data+'hiddenField = document.createElement(\"input\");';\n      script += data+'hiddenField.setAttribute(\"type\", \"hidden\");';\n      script += data+'hiddenField.setAttribute(\"name\",\"' + data +'\");';\n      script += data+'hiddenField.setAttribute(\"value\",\"' + model[data] + '\");';\n      script += 'form.appendChild('+data+'hiddenField);';\n  }   \n      script += 'document.body.appendChild(form);';\n      script += 'form.submit();';\n\n    try {\n      const browser: ThemeableBrowserObject = this.themeableBrowser.create(direction, '_blank', options);\n    \n      browser.on('closePressed').subscribe(data => {\n        browser.close();\n        this.isMethodCalled = false;\n      })\n\n      browser.on('exit').subscribe(e => {\n        \n           alert(e.url) \n      })\n\n      \n      browser.on('loadstop').subscribe(data => {  \n        if(!this.isScriptExecuted){\n          browser.executeScript({code:script}).then(response=>{\n            this.isScriptExecuted = true;\n          })\n        }\n        \n      })\n\n      browser.on('event_getURL').subscribe(event => {\n        alert('event');\n      })\n    }\n    catch (err) {\n      alert(err)\n    }\n  }\n\n}\n"],"sourceRoot":""}