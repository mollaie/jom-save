(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"56ai":function(l,n,o){"use strict";o.d(n,"a",function(){return e});var t=o("CcnG"),u=o("ZYCi"),e=function(){function l(l){this.router=l}return l.prototype.nextStep=function(l){switch(l){case"AddReferral":this.router.navigate(["referral"]);break;case"MakePayment":this.router.navigate(["top-up"]);break;case"CreatePassword":this.router.navigate(["change-password"]);break;case"VerifyEmail":this.router.navigate(["mail-confirmation"]);break;case"CompleteProfile":this.router.navigate(["complete-profile"]);break;case"VerifyProfile":this.router.navigate(["profile/profile/home"]);break;case"Password":this.router.navigate(["auth-password"]);break;case"Upline":break;case"ForgotPassword":this.router.navigate(["forgot-password"]);break;case"Phone":this.router.navigate(["auth-phone"]);break;case"OTP-ChangePassword":this.router.navigate(["otp-change-number"]);break;default:this.router.navigate(["profile/profile/home"])}},l.ngInjectableDef=t.S({factory:function(){return new l(t.W(u.n))},token:l,providedIn:"root"}),l}()},dtcG:function(l,n,o){"use strict";o.r(n);var t=o("CcnG"),u=o("mrSG"),e=o("e0iR"),r=o("603S"),i=o("ZZ/e"),a=o("utPD"),s=o("n6ga"),c=o("56ai"),b=function(){function l(l,n,o,t,u,e,r){var i=this;this.router=l,this.dataTransaction=n,this.api=o,this.platform=t,this.alert=u,this.restApi=e,this.routerProvider=r,this.AccessToken="",this.ErrorMessage="",this.BlockDuration=0,this.BlockDurationText="00:00",this.isUserHold=!1,this.isDebug=!1,this.isUserConfirmed=!1,this.Model={Phone:"",MailConfirmation:"",Resouses:{PhoneIcon:"",WorldPicture:"",PasswordIcon:"",ConfirmPassword:"",MailConfirmation:"",UserHold:""}},this.dataTransaction.getAccessToken().then(function(l){i.AccessToken=l}).catch(function(l){i.ErrorMessage="The system can not detect your corrent password. <br/> please log out and login again."}),this.isDebug=!t.is("cordova")}return l.prototype.ngOnInit=function(){var l=this;this.dataTransaction.getUserPhone().then(function(n){l.Model.Phone=n}).catch(function(n){l.alert.showErrorMessageAlert(n)})},l.prototype.doNext=function(){var l=this;this.isUserConfirmed=!1,this.isDebug?(this.dataTransaction.setEmail(this.Model.MailConfirmation),this.restApi.RequestEmailVerification(this.Model.MailConfirmation,this.AccessToken).subscribe(function(n){var o=l.restApi.converResponseToJson(n);"0"==o.ErrorCode?(l.BlockDuration=parseInt(o.Data.BlockDuration),l.doHoldUser()):l.ErrorMessage=o.ErrorMessage})):(this.dataTransaction.setEmail(this.Model.MailConfirmation),this.api.RequestEmailVerification(this.Model.MailConfirmation,this.AccessToken).then(function(n){if(200==n.status){var o=l.api.converResponseToJson(n.data);"0"==o.ErrorCode?(l.BlockDuration=parseInt(o.Data.BlockDuration),l.doHoldUser()):l.alert.showErrorMessageAlert(o.ErrorMessage)}else l.alert.showErrorMessageAlert(n.error)},function(n){l.alert.showErrorMessageAlert(n)}))},l.prototype.doHoldUser=function(){this.isUserHold=!0,this.countdown(),this.requestCountDown()},l.prototype.requestCountDown=function(){return u.b(this,void 0,void 0,function(){var l,n=this;return u.e(this,function(o){switch(o.label){case 0:return l=this,[4,setInterval(function(){n.doVerifyEmail()},5e3)];case 1:return l.interval=o.sent(),[2]}})})},l.prototype.countdown=function(){return u.b(this,void 0,void 0,function(){var l=this;return u.e(this,function(n){switch(n.label){case 0:return[4,setTimeout(function(n){l.BlockDuration-=1,l.BlockDuration>0?(l.countdown(),l.BlockDurationText=l.parseTime(l.BlockDuration)):l.isUserHold=!1},1e3)];case 1:return n.sent(),[2]}})})},l.prototype.parseTime=function(l){var n=parseInt(l,10),o=Math.floor(n/3600).toString(),t=Math.floor((n-3600*parseInt(o))/60).toString(),u=(n-3600*parseInt(o)-60*parseInt(t)).toString();return parseInt(o)<10&&(o="0"+o),parseInt(t)<10&&(t="0"+t),parseInt(u)<10&&(u="0"+u),o+":"+t+":"+u},l.prototype.doVerifyEmail=function(){var l=this;this.isDebug?this.restApi.GetProfile(this.AccessToken).subscribe(function(n){var o=l.restApi.converResponseToJson(n);"0"==o.ErrorCode&&"VerifyEmail"!=o.Data.NextStep&&(l.isUserHold=!1,l.BlockDuration=0,clearInterval(l.interval),l.routerProvider.nextStep(o.Data.NextStep))}):this.api.GetProfile(this.AccessToken).then(function(n){if(200==n.status){var o=l.api.converResponseToJson(n.data);"VerifyEmail"!=o.Data.NextStep&&(l.isUserHold=!1,l.BlockDuration=0,clearInterval(l.interval),l.routerProvider.nextStep(o.Data.NextStep))}else l.alert.showErrorMessageAlert(n.error)}).catch(function(n){return l.alert.showErrorMessageAlert(n)})},l.prototype.doCancel=function(){this.isUserConfirmed=!1},l.prototype.doConfirmation=function(){this.isUserConfirmed=!0},l.prototype.doLogin=function(){this.router.navigate(["auth-phone"])},l}(),p=function(){return function(){}}(),d=o("pMnS"),f=o("oBZk"),h=o("gIcY"),g=o("Ip0R"),m=o("yp2w"),v=o("uPsM"),k=o("ZYCi"),C=t.nb({encapsulation:0,styles:[[""]],data:{}});function w(l){return t.Hb(0,[(l()(),t.pb(0,0,null,null,1,"span",[["color","danger"]],null,null,null,null,null)),(l()(),t.Fb(1,null,["",""]))],null,function(l,n){l(n,1,0,n.component.ErrorMessage)})}function y(l){return t.Hb(0,[(l()(),t.pb(0,0,null,null,22,"ion-row",[["id","sendemail"]],null,null,null,f.U,f.s)),t.ob(1,49152,null,0,i.jb,[t.h,t.k],null,null),(l()(),t.pb(2,0,null,0,1,"ion-col",[["size","1"]],null,null,null,f.G,f.e)),t.ob(3,49152,null,0,i.u,[t.h,t.k],{size:[0,"size"]},null),(l()(),t.pb(4,0,null,0,2,"ion-col",[["size","2"]],null,null,null,f.G,f.e)),t.ob(5,49152,null,0,i.u,[t.h,t.k],{size:[0,"size"]},null),(l()(),t.pb(6,0,null,0,0,"img",[["src","../../assets/images/icon-email.svg"]],null,null,null,null,null)),(l()(),t.pb(7,0,null,0,13,"ion-col",[["size","7"]],null,null,null,f.G,f.e)),t.ob(8,49152,null,0,i.u,[t.h,t.k],{size:[0,"size"]},null),(l()(),t.pb(9,0,null,0,5,"input",[["class","forgot-password-input"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,o){var u=!0,e=l.component;return"input"===n&&(u=!1!==t.zb(l,10)._handleInput(o.target.value)&&u),"blur"===n&&(u=!1!==t.zb(l,10).onTouched()&&u),"compositionstart"===n&&(u=!1!==t.zb(l,10)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t.zb(l,10)._compositionEnd(o.target.value)&&u),"ngModelChange"===n&&(u=!1!==(e.Model.MailConfirmation=o)&&u),u},null,null)),t.ob(10,16384,null,0,h.b,[t.D,t.k,[2,h.a]],null,null),t.Cb(1024,null,h.f,function(l){return[l]},[h.b]),t.ob(12,671744,null,0,h.i,[[8,null],[8,null],[8,null],[6,h.f]],{model:[0,"model"]},{update:"ngModelChange"}),t.Cb(2048,null,h.g,null,[h.i]),t.ob(14,16384,null,0,h.h,[[4,h.g]],null,null),(l()(),t.pb(15,0,null,0,3,"span",[["class","forgot-password-span"]],null,null,null,null,null)),(l()(),t.Fb(-1,null,["Please key in your email for "])),(l()(),t.pb(17,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Fb(-1,null,[" verification purpose"])),(l()(),t.gb(16777216,null,0,1,null,w)),t.ob(20,16384,null,0,g.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.pb(21,0,null,0,1,"ion-col",[["size","2"]],null,null,null,f.G,f.e)),t.ob(22,49152,null,0,i.u,[t.h,t.k],{size:[0,"size"]},null)],function(l,n){var o=n.component;l(n,3,0,"1"),l(n,5,0,"2"),l(n,8,0,"7"),l(n,12,0,o.Model.MailConfirmation),l(n,20,0,""!=o.ErrorMessage),l(n,22,0,"2")},function(l,n){l(n,9,0,t.zb(n,14).ngClassUntouched,t.zb(n,14).ngClassTouched,t.zb(n,14).ngClassPristine,t.zb(n,14).ngClassDirty,t.zb(n,14).ngClassValid,t.zb(n,14).ngClassInvalid,t.zb(n,14).ngClassPending)})}function M(l){return t.Hb(0,[(l()(),t.pb(0,0,null,null,12,"div",[["class","modal-container"]],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,11,"div",[["class","modal"]],null,null,null,null,null)),(l()(),t.pb(2,0,null,null,2,"div",[["class","modal-header-warning"]],null,null,null,null,null)),(l()(),t.pb(3,0,null,null,1,"ion-icon",[["name","information-circle-outline"]],null,null,null,f.N,f.l)),t.ob(4,49152,null,0,i.D,[t.h,t.k],{name:[0,"name"]},null),(l()(),t.pb(5,0,null,null,4,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),t.pb(6,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Fb(-1,null,["Please check your email to verify."])),(l()(),t.pb(8,0,null,null,1,"p",[["style","color:#bdbdbd;text-align: center;font-weight: bold"]],null,null,null,null,null)),(l()(),t.Fb(9,null,["",""])),(l()(),t.pb(10,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(l()(),t.pb(11,0,null,null,1,"a",[["style","float: right;"]],null,[[null,"click"]],function(l,n,o){var t=!0;return"click"===n&&(t=!1!==l.component.doVerifyEmail()&&t),t},null,null)),(l()(),t.Fb(-1,null,["Continue"]))],function(l,n){l(n,4,0,"information-circle-outline")},function(l,n){l(n,9,0,n.component.BlockDurationText)})}function D(l){return t.Hb(0,[(l()(),t.pb(0,0,null,null,14,"div",[["class","modal-container"]],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,13,"div",[["class","modal"]],null,null,null,null,null)),(l()(),t.pb(2,0,null,null,2,"div",[["class","modal-header-sucess"]],null,null,null,null,null)),(l()(),t.pb(3,0,null,null,1,"ion-icon",[["name","information-circle-outline"]],null,null,null,f.N,f.l)),t.ob(4,49152,null,0,i.D,[t.h,t.k],{name:[0,"name"]},null),(l()(),t.pb(5,0,null,null,4,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),t.pb(6,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Fb(-1,null,["A verification will be send to"])),(l()(),t.pb(8,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Fb(-1,null,["md.mollaie@gmail.com"])),(l()(),t.pb(10,0,null,null,4,"div",[["class","modal-footer"]],null,null,null,null,null)),(l()(),t.pb(11,0,null,null,1,"a",[["style","float: right;"]],null,[[null,"click"]],function(l,n,o){var t=!0;return"click"===n&&(t=!1!==l.component.doNext()&&t),t},null,null)),(l()(),t.Fb(-1,null,["OK"])),(l()(),t.pb(13,0,null,null,1,"a",[["style","float: left;"]],null,[[null,"click"]],function(l,n,o){var t=!0;return"click"===n&&(t=!1!==l.component.doCancel()&&t),t},null,null)),(l()(),t.Fb(-1,null,["Cancel"]))],function(l,n){l(n,4,0,"information-circle-outline")},null)}function x(l){return t.Hb(0,[(l()(),t.pb(0,0,null,null,21,"ion-content",[["class","no-scroll content-background "]],null,null,null,f.H,f.f)),t.ob(1,49152,null,0,i.v,[t.h,t.k],null,null),(l()(),t.pb(2,0,null,0,9,"div",[["class","container m-t-50"]],null,null,null,null,null)),(l()(),t.pb(3,0,null,null,8,"ion-grid",[],null,null,null,f.L,f.j)),t.ob(4,49152,null,0,i.B,[t.h,t.k],null,null),(l()(),t.pb(5,0,null,0,4,"ion-row",[],null,null,null,f.U,f.s)),t.ob(6,49152,null,0,i.jb,[t.h,t.k],null,null),(l()(),t.pb(7,0,null,0,2,"ion-col",[],null,null,null,f.G,f.e)),t.ob(8,49152,null,0,i.u,[t.h,t.k],null,null),(l()(),t.pb(9,0,null,0,0,"div",[["class","logo"]],null,null,null,null,null)),(l()(),t.gb(16777216,null,0,1,null,y)),t.ob(11,16384,null,0,g.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,0,1,null,M)),t.ob(13,16384,null,0,g.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,0,1,null,D)),t.ob(15,16384,null,0,g.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.pb(16,0,null,0,5,"ion-fab",[["horizontal","end"],["slot","fixed"],["vertical","bottom"]],null,null,null,f.K,f.h)),t.ob(17,49152,null,0,i.x,[t.h,t.k],{horizontal:[0,"horizontal"],vertical:[1,"vertical"]},null),(l()(),t.pb(18,0,null,0,3,"ion-fab-button",[["class","next-button"]],null,[[null,"click"]],function(l,n,o){var t=!0;return"click"===n&&(t=!1!==l.component.doNext()&&t),t},f.J,f.i)),t.ob(19,49152,null,0,i.y,[t.h,t.k],null,null),(l()(),t.pb(20,0,null,0,1,"ion-icon",[["name","arrow-forward"]],null,null,null,f.N,f.l)),t.ob(21,49152,null,0,i.D,[t.h,t.k],{name:[0,"name"]},null)],function(l,n){var o=n.component;l(n,11,0,!o.isUserHold),l(n,13,0,o.isUserHold),l(n,15,0,o.isUserConfirmed),l(n,17,0,"end","bottom"),l(n,21,0,"arrow-forward")},null)}function I(l){return t.Hb(0,[(l()(),t.pb(0,0,null,null,2,"app-mail-confirmation",[],null,null,null,x,C)),t.Cb(512,null,r.a,r.a,[m.a,i.Jb,v.a]),t.ob(2,114688,null,0,b,[k.n,e.a,r.a,i.Jb,a.a,s.a,c.a],null,null)],function(l,n){l(n,2,0)},null)}var E=t.lb("app-mail-confirmation",b,I,{},{},[]);o.d(n,"MailConfirmationPageModuleNgFactory",function(){return P});var P=t.mb(p,[],function(l){return t.wb([t.xb(512,t.j,t.bb,[[8,[d.a,E]],[3,t.j],t.x]),t.xb(4608,g.l,g.k,[t.u,[2,g.s]]),t.xb(4608,h.n,h.n,[]),t.xb(4608,i.c,i.c,[t.z,t.g]),t.xb(4608,i.Hb,i.Hb,[i.c,t.j,t.q]),t.xb(4608,i.Kb,i.Kb,[i.c,t.j,t.q]),t.xb(1073742336,g.b,g.b,[]),t.xb(1073742336,h.l,h.l,[]),t.xb(1073742336,h.c,h.c,[]),t.xb(1073742336,i.Eb,i.Eb,[]),t.xb(1073742336,k.o,k.o,[[2,k.u],[2,k.n]]),t.xb(1073742336,p,p,[]),t.xb(1024,k.l,function(){return[[{path:"",component:b}]]},[])])})},utPD:function(l,n,o){"use strict";o.d(n,"a",function(){return r});var t=o("mrSG"),u=o("ZZ/e"),e=o("CcnG"),r=function(){function l(l,n){this.alertController=l,this.loadingCntroller=n}return l.prototype.showErrorMessageAlert=function(l){return t.b(this,void 0,void 0,function(){return t.e(this,function(n){switch(n.label){case 0:return[4,this.alertController.create({header:"Jom-Save",message:l,buttons:["OK"]})];case 1:return[4,n.sent().present()];case 2:return n.sent(),[2]}})})},l.ngInjectableDef=e.S({factory:function(){return new l(e.W(u.b),e.W(u.Gb))},token:l,providedIn:"root"}),l}()}}]);