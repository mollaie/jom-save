(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{"9vCB":function(l,n,e){"use strict";e.r(n);var t=e("CcnG"),u=e("mrSG"),o=e("e0iR"),s=e("n6ga"),r=e("603S"),i=e("ZZ/e"),a=e("HBAR"),c=e("56ai"),b=e("BoD5"),p=e("utPD"),h=e("Pn9U"),d=e("iLn7"),f=function(){function l(l,n,e,t,u,o,s,r,i,a,c,b,p){this.router=l,this.dataTransaction=n,this.restApi=e,this.api=t,this.platform=u,this.camera=o,this.alertController=s,this.themeableBrowser=r,this.routerProvider=i,this.constantService=a,this.alert=c,this.actionSheetController=b,this.diagnostic=p,this.MemberId="",this.AccessToken="",this.ErrorMessage="",this.isDebug=!1,this.Model={Phone:"",FullName:"",DisplayName:"",Photo:"",Gender:"Others",MemberId:""},this.options={toolbar:{height:44,color:"#fbb03b"},title:{color:"#ffffffff",showPageTitle:!0,staticText:"JomSave"},backButton:{image:"back",imagePressed:"back_pressed",align:"left",event:"backPressed"},forwardButton:{image:"forward",imagePressed:"forward_pressed",align:"left",event:"forwardPressed"},closeButton:{image:"close",imagePressed:"close_pressed",align:"left",event:"closePressed"},backButtonCanClose:!1},this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.isDebug=!u.is("cordova")}return l.prototype.ngOnInit=function(){var l=this;this.dataTransaction.getAccessToken().then(function(n){null==n?console.log("access token does not detected"):l.AccessToken=n.toString()}),this.dataTransaction.getProfile().then(function(n){l.Model=n,l.encodedText(l.Model.MemberId),l.MemberId=l.Model.MemberId,0==l.Model.Photo.length&&(l.Model.Photo="../../assets/images/icon-dispaly-name.svg")})},l.prototype.encodedText=function(l){this.encodeData=l},l.prototype.About=function(){this.themeableBrowser.create("https://google.com","_blank",this.options)},l.prototype.Terms=function(){this.themeableBrowser.create("https://afrd.website/jomsave/term.html","_blank",this.options)},l.prototype.Policy=function(){this.themeableBrowser.create("https://afrd.website/jomsave/privacy.html","_blank",this.options)},l.prototype.Setting=function(){this.dataTransaction.shouldNavigate=!1,this.router.navigateByUrl("profile/profile/menu/setting")},l.prototype.Complaints=function(){this.dataTransaction.shouldNavigate=!1,this.router.navigateByUrl("profile/profile/menu/complaints")},l.prototype.Feedback=function(){this.dataTransaction.shouldNavigate=!1,this.router.navigateByUrl("profile/profile/menu/feedback")},l.prototype.presentActionSheet=function(){return u.b(this,void 0,void 0,function(){var l=this;return u.e(this,function(n){switch(n.label){case 0:return[4,this.actionSheetController.create({header:"Albums",buttons:[{text:"Camera",icon:"camera",handler:function(){l.doTakePhoto(0)}},{text:"Gallery",icon:"folder-open",handler:function(){l.doTakePhoto(1)}},{text:"Cancel",icon:"close",role:"cancel",handler:function(){console.log("Cancel clicked")}}]})];case 1:return[4,n.sent().present()];case 2:return n.sent(),[2]}})})},l.prototype.doTakePhoto=function(l){var n=this,e={quality:50,destinationType:this.camera.DestinationType.DATA_URL,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE,correctOrientation:!0,sourceType:0==l?this.camera.PictureSourceType.CAMERA:this.camera.PictureSourceType.PHOTOLIBRARY};this.diagnostic.isCameraAvailable().then(function(l){n.camera.getPicture(e).then(function(l){n.Model.Photo="data:image/jpeg;base64,"+l,n.UploadPhoto()},function(l){n.presentAlert(l)})}).catch(function(l){n.presentAlert(l)})},l.prototype.UploadPhoto=function(){return u.b(this,void 0,void 0,function(){var l=this;return u.e(this,function(n){switch(n.label){case 0:return this.isDebug?[3,2]:null==this.Model.Photo?[3,2]:[4,this.api.UploadProfilePhoto(this.Model.Photo,this.AccessToken).then(function(n){if(200==n.status){var e=l.api.converResponseToJson(n.data);if("0"==e.ErrorCode)return!0;l.alert.showErrorMessageAlert(e.ErrorMessage)}}).catch(function(n){l.alert.showErrorMessageAlert(n)})];case 1:n.sent(),n.label=2;case 2:return[2]}})})},l.prototype.logOutConfirmation=function(){return u.b(this,void 0,void 0,function(){var l=this;return u.e(this,function(n){switch(n.label){case 0:return[4,this.alertController.create({header:"Jom-Save",message:"Are you sure you want to logout?",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(l){}},{text:"Ok",handler:function(){l.Logout()}}]})];case 1:return[4,n.sent().present()];case 2:return n.sent(),[2]}})})},l.prototype.Logout=function(){var l=this;console.log(this.AccessToken),this.isDebug?this.restApi.Logout(this.AccessToken).subscribe(function(n){var e=l.restApi.converResponseToJson(n);"0"==e.ErrorCode?(l.dataTransaction.shouldNavigate=!1,l.dataTransaction.logOut(),l.routerProvider.nextStep("Phone")):l.ErrorMessage=e.ErrorMessage},function(n){l.ErrorMessage=n}):this.api.Logout(this.AccessToken).then(function(n){if(200==n.status){var e=l.api.converResponseToJson(n.data);"0"==e.ErrorCode?(l.dataTransaction.shouldNavigate=!1,l.dataTransaction.logOut(),l.routerProvider.nextStep("Phone")):l.alert.showErrorMessageAlert(e.ErrorMessage)}else l.alert.showErrorMessageAlert(n.error)})},l.prototype.presentAlert=function(l){return u.b(this,void 0,void 0,function(){return u.e(this,function(n){switch(n.label){case 0:return[4,this.alertController.create({header:"Alert",subHeader:"Subtitle",message:l,buttons:["OK"]})];case 1:return[4,n.sent().present()];case 2:return n.sent(),[2]}})})},l}(),g=function(){return function(){}}(),m=e("pMnS"),v=e("oBZk"),k=e("7yHZ"),y=e("jVYb"),x=e("ZYCi"),T=t.nb({encapsulation:0,styles:[[""]],data:{}});function P(l){return t.Hb(0,[(l()(),t.pb(0,0,null,null,75,"ion-content",[["padding",""]],null,null,null,v.E,v.f)),t.ob(1,49152,null,0,i.v,[t.h,t.k],null,null),(l()(),t.pb(2,0,null,0,73,"ion-grid",[],null,null,null,v.H,v.i)),t.ob(3,49152,null,0,i.B,[t.h,t.k],null,null),(l()(),t.pb(4,0,null,0,21,"ion-row",[],null,null,null,v.O,v.p)),t.ob(5,49152,null,0,i.jb,[t.h,t.k],null,null),(l()(),t.pb(6,0,null,0,6,"ion-col",[["size","3"]],null,null,null,v.D,v.e)),t.ob(7,49152,null,0,i.u,[t.h,t.k],{size:[0,"size"]},null),(l()(),t.pb(8,0,null,0,4,"div",[["class","home-userinfo-container"]],null,null,null,null,null)),(l()(),t.pb(9,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Fb(-1,null,["Member"])),(l()(),t.pb(11,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Fb(12,null,["",""])),(l()(),t.pb(13,0,null,0,3,"ion-col",[["class","text-center"],["size","6"],["style","padding-left:20px"]],null,null,null,v.D,v.e)),t.ob(14,49152,null,0,i.u,[t.h,t.k],{size:[0,"size"]},null),(l()(),t.pb(15,0,null,0,1,"div",[["class","picture-container text-center"]],null,null,null,null,null)),(l()(),t.pb(16,0,null,null,0,"img",[["height","150"],["width","150"]],[[8,"src",4]],null,null,null,null)),(l()(),t.pb(17,0,null,0,8,"ion-col",[["size","3"]],null,null,null,v.D,v.e)),t.ob(18,49152,null,0,i.u,[t.h,t.k],{size:[0,"size"]},null),(l()(),t.pb(19,0,null,0,1,"div",[],null,null,null,null,null)),(l()(),t.pb(20,0,null,null,0,"img",[["src","../../assets/images/photo-camera.svg"],["style","width:25px;margin-top: 60%;"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.presentActionSheet()&&t),t},null,null)),(l()(),t.pb(21,0,null,0,4,"div",[["class","home-qrcode-container"]],null,null,null,null,null)),(l()(),t.pb(22,0,null,null,1,"ngx-qrcode",[["class","text-center"]],null,null,null,k.b,k.a)),t.ob(23,573440,null,0,y.a,[t.D],{value:[0,"value"]},null),(l()(),t.pb(24,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Fb(25,null,["",""])),(l()(),t.pb(26,0,null,0,0,"br",[],null,null,null,null,null)),(l()(),t.pb(27,0,null,0,0,"br",[],null,null,null,null,null)),(l()(),t.pb(28,0,null,0,16,"ion-row",[],null,null,null,v.O,v.p)),t.ob(29,49152,null,0,i.jb,[t.h,t.k],null,null),(l()(),t.pb(30,0,null,0,4,"ion-col",[["class","text-center"],["size","4"]],null,null,null,v.D,v.e)),t.ob(31,49152,null,0,i.u,[t.h,t.k],{size:[0,"size"]},null),(l()(),t.pb(32,0,null,0,0,"img",[["src","../../assets/images/btn-settings.svg"],["style","max-width:30%"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.Setting()&&t),t},null,null)),(l()(),t.pb(33,0,null,0,1,"p",[],null,null,null,null,null)),(l()(),t.Fb(-1,null,["Settings"])),(l()(),t.pb(35,0,null,0,4,"ion-col",[["class","text-center"],["size","4"]],null,null,null,v.D,v.e)),t.ob(36,49152,null,0,i.u,[t.h,t.k],{size:[0,"size"]},null),(l()(),t.pb(37,0,null,0,0,"img",[["src","../../assets/images/btn-feedback.svg"],["style","max-width:30%"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.Feedback()&&t),t},null,null)),(l()(),t.pb(38,0,null,0,1,"p",[],null,null,null,null,null)),(l()(),t.Fb(-1,null,["Feedback"])),(l()(),t.pb(40,0,null,0,4,"ion-col",[["class","text-center"],["size","4"]],null,null,null,v.D,v.e)),t.ob(41,49152,null,0,i.u,[t.h,t.k],{size:[0,"size"]},null),(l()(),t.pb(42,0,null,0,0,"img",[["src","../../assets/images/btn-complaints.svg"],["style","max-width:30%"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.Complaints()&&t),t},null,null)),(l()(),t.pb(43,0,null,0,1,"p",[],null,null,null,null,null)),(l()(),t.Fb(-1,null,["Complaints"])),(l()(),t.pb(45,0,null,0,6,"ion-row",[],null,null,null,v.O,v.p)),t.ob(46,49152,null,0,i.jb,[t.h,t.k],null,null),(l()(),t.pb(47,0,null,0,4,"ion-col",[["class","text-center"]],null,null,null,v.D,v.e)),t.ob(48,49152,null,0,i.u,[t.h,t.k],null,null),(l()(),t.pb(49,0,null,0,0,"img",[["src","../../assets/images/btn-visit-us.svg"],["style","max-width:10%"]],null,null,null,null,null)),(l()(),t.pb(50,0,null,0,1,"p",[],null,null,null,null,null)),(l()(),t.Fb(-1,null,["Visit Us"])),(l()(),t.pb(52,0,null,0,5,"ion-row",[],null,null,null,v.O,v.p)),t.ob(53,49152,null,0,i.jb,[t.h,t.k],null,null),(l()(),t.pb(54,0,null,0,3,"ion-col",[["class","text-center"]],null,null,null,v.D,v.e)),t.ob(55,49152,null,0,i.u,[t.h,t.k],null,null),(l()(),t.pb(56,0,null,0,1,"a",[],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.About()&&t),t},null,null)),(l()(),t.Fb(-1,null,["About JomSave"])),(l()(),t.pb(58,0,null,0,5,"ion-row",[],null,null,null,v.O,v.p)),t.ob(59,49152,null,0,i.jb,[t.h,t.k],null,null),(l()(),t.pb(60,0,null,0,3,"ion-col",[["class","text-center"]],null,null,null,v.D,v.e)),t.ob(61,49152,null,0,i.u,[t.h,t.k],null,null),(l()(),t.pb(62,0,null,0,1,"a",[],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.Terms()&&t),t},null,null)),(l()(),t.Fb(-1,null,["Terms of Use"])),(l()(),t.pb(64,0,null,0,5,"ion-row",[],null,null,null,v.O,v.p)),t.ob(65,49152,null,0,i.jb,[t.h,t.k],null,null),(l()(),t.pb(66,0,null,0,3,"ion-col",[["class","text-center"]],null,null,null,v.D,v.e)),t.ob(67,49152,null,0,i.u,[t.h,t.k],null,null),(l()(),t.pb(68,0,null,0,1,"a",[],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.Policy()&&t),t},null,null)),(l()(),t.Fb(-1,null,["Privacy & Policy"])),(l()(),t.pb(70,0,null,0,5,"ion-row",[],null,null,null,v.O,v.p)),t.ob(71,49152,null,0,i.jb,[t.h,t.k],null,null),(l()(),t.pb(72,0,null,0,3,"ion-col",[["class","text-center"]],null,null,null,v.D,v.e)),t.ob(73,49152,null,0,i.u,[t.h,t.k],null,null),(l()(),t.pb(74,0,null,0,1,"a",[],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.logOutConfirmation()&&t),t},null,null)),(l()(),t.Fb(-1,null,["Logout"]))],function(l,n){var e=n.component;l(n,7,0,"3"),l(n,14,0,"6"),l(n,18,0,"3"),l(n,23,0,e.encodeData),l(n,31,0,"4"),l(n,36,0,"4"),l(n,41,0,"4")},function(l,n){var e=n.component;l(n,12,0,e.Model.DisplayName),l(n,16,0,e.Model.Photo),l(n,25,0,e.MemberId)})}function w(l){return t.Hb(0,[(l()(),t.pb(0,0,null,null,1,"app-menu",[],null,null,null,P,T)),t.ob(1,114688,null,0,f,[x.n,o.a,s.a,r.a,i.Jb,h.a,i.b,a.a,c.a,b.a,p.a,i.a,d.a],null,null)],function(l,n){l(n,1,0)},null)}var M=t.lb("app-menu",f,w,{},{},[]),A=e("Ip0R"),C=e("gIcY");e.d(n,"MenuPageModuleNgFactory",function(){return D});var D=t.mb(g,[],function(l){return t.wb([t.xb(512,t.j,t.bb,[[8,[m.a,M]],[3,t.j],t.x]),t.xb(4608,A.l,A.k,[t.u,[2,A.s]]),t.xb(4608,C.n,C.n,[]),t.xb(4608,i.c,i.c,[t.z,t.g]),t.xb(4608,i.Hb,i.Hb,[i.c,t.j,t.q]),t.xb(4608,i.Kb,i.Kb,[i.c,t.j,t.q]),t.xb(1073742336,A.b,A.b,[]),t.xb(1073742336,C.l,C.l,[]),t.xb(1073742336,C.c,C.c,[]),t.xb(1073742336,i.Eb,i.Eb,[]),t.xb(1073742336,y.b,y.b,[]),t.xb(1073742336,x.o,x.o,[[2,x.u],[2,x.n]]),t.xb(1073742336,g,g,[]),t.xb(1024,x.l,function(){return[[{path:"",component:f}]]},[])])})}}]);