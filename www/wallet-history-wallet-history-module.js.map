{"version":3,"sources":["webpack:///./src/app/pages/profile/wallet-history/wallet-history.module.ts","webpack:///./src/app/pages/profile/wallet-history/wallet-history.page.html","webpack:///./src/app/pages/profile/wallet-history/wallet-history.page.scss","webpack:///./src/app/pages/profile/wallet-history/wallet-history.page.ts","webpack:///./src/app/services/alert-provider/alert-provider.service.ts","webpack:///./src/app/services/route-provider/route-provider.service.ts"],"names":[],"mappings":"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","file":"wallet-history-wallet-history-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { WalletHistoryPage } from './wallet-history.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: WalletHistoryPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [WalletHistoryPage]\n})\nexport class WalletHistoryPageModule {}\n","module.exports = \"<ion-header no-border>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>History</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content no-padding>\\n\\n\\n  <ion-list>\\n    <ion-item *ngFor=\\\"let item of WalletHistory.Transactions\\\" lines=\\\"none\\\" class=\\\"history-item\\\">\\n      <ion-label class=\\\"history-item-title\\\">{{item.DateTime | date :'dd MMM yyyy'}}</ion-label>\\n      <ion-label class=\\\"history-item-description\\\" text-wrap>{{item.Remark}}</ion-label>\\n      <ion-label class=\\\"history-item-type-sent\\\" *ngIf=\\\"item.Color == '009245'\\\">{{item.Amount}}</ion-label>\\n      <ion-label class=\\\"history-item-type-resend\\\" *ngIf=\\\"item.Color == 'B32025'\\\">{{item.Amount}}</ion-label>\\n      <ion-label class=\\\"history-item-type-joined\\\" *ngIf=\\\"item.Color != '009245' && item.Color != 'B32025'\\\">\\n        {{item.Amount}}</ion-label>\\n    </ion-item>\\n  </ion-list>\\n  <ion-grid *ngIf=\\\"onLoading\\\">\\n    <ion-row>\\n      <ion-col class=\\\"text-center\\\">\\n        <ion-spinner name=\\\"dots\\\" color=\\\"primary\\\"></ion-spinner>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n  <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadMore($event)\\\" loadingSpinner=\\\"bubbles\\\"\\n    loadingText=\\\"Loading more data...\\\">\\n    <ion-infinite-scroll-content loadingSpinner=\\\"bubbles\\\" loadingText=\\\"Loading more data...\\\">\\n    </ion-infinite-scroll-content>\\n  </ion-infinite-scroll>\\n\\n</ion-content>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3Byb2ZpbGUvd2FsbGV0LWhpc3Rvcnkvd2FsbGV0LWhpc3RvcnkucGFnZS5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\nimport { NativeApiService } from 'src/app/services/native-api/native-api.service';\nimport { RestApiService } from 'src/app/services/rest-api.service';\nimport { Platform } from '@ionic/angular';\nimport { DataTransactionService } from 'src/app/services/data-transaction/data-transaction.service';\nimport { AlertProviderService } from 'src/app/services/alert-provider/alert-provider.service';\nimport { RouteProviderService } from '../../../services/route-provider/route-provider.service';\n\n@Component({\n  selector: 'app-wallet-history',\n  templateUrl: './wallet-history.page.html',\n  styleUrls: ['./wallet-history.page.scss'],\n})\nexport class WalletHistoryPage implements OnInit {\n\n  showSplash: boolean = true;\n  isDebug: boolean = false;\n  AccessToken: string = \"\";\n  rows: number = 10;\n  WalletHistory = {\n    Transactions: []\n  }\n  onLoading: boolean = false;\n\n  constructor(\n    private api: NativeApiService,\n    private restApi: RestApiService,\n    private platform: Platform,\n    private dataTransaction: DataTransactionService,\n    private alert: AlertProviderService,\n    private routerProvider: RouteProviderService\n  ) {\n\n    if (platform.is('cordova')) this.isDebug = false;\n    else this.isDebug = true;\n  }\n\n  ngOnInit() {\n    this.dataTransaction.getAccessToken().then(acc => {\n      if (acc == null)\n        console.log('access token does not detected');\n      else {\n        this.AccessToken = acc.toString();\n        this.GetTransactions();\n      }\n\n    })\n  }\n\n  GetTransactions(infiniteScroll?) {\n    this.onLoading = true;\n    setTimeout(() => {\n      if (!this.isDebug) {\n\n        this.api.GetTransactions(`${this.rows}`, `${this.dataTransaction.page}`, this.AccessToken).then(\n          response => {\n            if (response.status == 200) {\n              let result = this.api.converResponseToJson(response.data);\n              if (result.ErrorCode == \"0\") {\n                this.WalletHistory.Transactions = this.WalletHistory.Transactions.concat(result.Data.Transactions);\n              } else {\n                this.alert.presentToast(result.ErrorMessage)\n                if (result.ErrorCode == 1002) {\n                  this.dataTransaction.logOut();\n                  this.routerProvider.nextStep('Phone');\n                }\n              }\n            } else {\n              this.alert.presentToast(response.error)\n            }\n\n          }\n        ).catch(error => {\n          this.alert.presentToast(error);\n        })\n      } else {\n        this.restApi.GetTransactions(`${this.rows}`, `${this.dataTransaction.page}`, this.AccessToken).subscribe(\n          reponse => {\n            let result = this.restApi.converResponseToJson(reponse);\n            if (result.ErrorCode == \"0\") {\n              this.WalletHistory.Transactions = this.WalletHistory.Transactions.concat(result.Data.Transactions);\n            } else {\n              console.log(result.ErrorMessage)\n            }\n          },\n          error => {\n            console.log(error)\n          }\n        )\n      }\n\n      this.onLoading = false;\n    }, 500);\n\n\n    if (infiniteScroll) {\n      infiniteScroll.target.complete();\n    }\n  }\n\n  loadMore(infiniteScroll) {\n    this.dataTransaction.page++;\n    this.GetTransactions(infiniteScroll);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { LoadingController, AlertController } from '@ionic/angular'\nimport { ToastController } from '@ionic/angular';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AlertProviderService {\n\n  constructor(\n    private alertController : AlertController,\n    private loadingCntroller : LoadingController,\n    public toastController: ToastController\n  ) { }\n\n\n  async showErrorMessageAlert(msg){\n    const alert = await this.alertController.create({\n      header: 'Jom-Save',\n      message: msg,\n      buttons: ['OK']\n    });\n\n    await alert.present();\n  }\n\n  async presentToast(msg) {\n    const toast = await this.toastController.create({\n      message: msg,\n      duration: 3000,\n      position:'bottom'\n    });\n    toast.present();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Router, NavigationEnd } from '@angular/router';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RouteProviderService {\n\n  constructor(private router: Router) {\n  }\n\n  nextStep(step) {\n    switch (step) {\n      case \"AddReferral\":\n        this.router.navigate(['referral']);\n        break;\n      case \"MakePayment\":\n        this.router.navigate(['top-up']);\n        break;\n      case \"CreatePassword\":\n        this.router.navigate(['change-password']);\n        break;\n      case \"VerifyEmail\":\n        this.router.navigate(['mail-confirmation']);\n        break;\n      case \"CompleteProfile\":\n        this.router.navigate(['complete-profile']);\n        break;\n      case \"VerifyProfile\":\n        this.router.navigate(['profile/profile/home']);\n        break;\n      case \"Password\":\n        this.router.navigate(['auth-password']);\n        break;\n      case \"Upline\":\n        break;\n      case \"ForgotPassword\":\n        this.router.navigate(['forgot-password']);\n        break;\n      case \"Phone\":\n        this.router.navigate(['auth-phone']);\n        break;\n      case \"OTP-ChangePassword\":\n        this.router.navigate(['otp-change-number']);\n        break;\n      default:\n        this.router.navigate(['profile/profile/home']);\n    }\n  }\n}\n"],"sourceRoot":""}